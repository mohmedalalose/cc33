<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± - Ù…Ù†Ø¸Ø± Ø·Ø¨ÙŠØ¹ÙŠ Ù„ÙŠÙ„ÙŠ</title>
<style>
  /* reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80') no-repeat center center fixed;
    background-size: cover;
    color: #dcdcdc;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    position: relative;
    flex-direction: column;
  }
  /* Ø·Ø¨Ù‚Ø© Ø´ÙØ§ÙØ© Ù„ØªÙˆØ¶ÙŠØ­ Ø§Ù„Ù†Øµ */
  body::before {
    content: "";
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0, 0, 50, 0.65);
    z-index: -1;
  }
  /* Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ù„ÙˆÙŠ */
  #top-text {
    color: #ff5555;
    font-size: 1.8rem;
    font-weight: bold;
    margin-bottom: 15px;
    text-shadow: 0 0 8px #ff5555aa;
  }
  .container {
    background: rgba(15, 15, 40, 0.75);
    padding: 40px 50px;
    border-radius: 20px;
    box-shadow: 0 0 30px #1a1a50;
    max-width: 600px;
    width: 100%;
    text-align: center;
    color: #e0e0ff;
    position: relative;
  }
  h1 {
    font-size: 2.8rem;
    margin-bottom: 30px;
    text-shadow: 0 0 10px #89aaff;
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }
  input[type="date"], input[type="time"], select {
    width: 100%;
    padding: 15px;
    font-size: 1.1rem;
    border-radius: 12px;
    border: none;
    margin-bottom: 20px;
    box-shadow: inset 0 0 8px #5577ff88;
    background-color: #1a1a40;
    color: #e0e0ff;
  }
  input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
  }
  .btn {
    background: linear-gradient(135deg, #4a65ff, #2233cc);
    color: white;
    border: none;
    padding: 15px 35px;
    border-radius: 50px;
    font-size: 1.2rem;
    cursor: pointer;
    box-shadow: 0 5px 20px #4a65ffbb;
    transition: all 0.3s ease;
  }
  .btn:hover {
    box-shadow: 0 8px 30px #4a65ffee;
    transform: translateY(-3px) scale(1.05);
  }
  .result {
    margin-top: 30px;
    background: rgba(20, 20, 60, 0.8);
    padding: 25px 30px;
    border-radius: 15px;
    box-shadow: 0 0 15px #5577ffbb;
    font-size: 1.5rem;
    line-height: 1.4;
  }
  .born-day {
    margin-top: 10px;
    font-weight: 700;
    color: #aaccff;
  }

  /* Ø²Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© */
  .language-switcher {
    position: absolute;
    top: 15px;
    left: 15px;
    display: flex;
    gap: 6px;
    z-index: 10;
  }
  .lang-btn {
    background: rgba(255, 255, 255, 0.15);
    border: 1.5px solid rgba(255, 255, 255, 0.4);
    color: #e0e0ff;
    font-weight: 600;
    padding: 4px 9px;
    border-radius: 14px;
    font-size: 0.75rem;
    cursor: pointer;
    transition: all 0.3s ease;
    user-select: none;
  }
  .lang-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    color: #2233cc;
    border-color: #4a65ff;
  }
  .lang-btn.active {
    background: linear-gradient(135deg, #4a65ff, #2233cc);
    color: white;
    border-color: #2233cc;
    box-shadow: 0 0 8px #4a65ffcc;
  }
</style>
</head>
<body>
  <div id="top-text">Ù…Ø­Ù…Ø¯ ÙˆØ§Ø­Ù…Ø¯ Ø§ØºØ¨ÙŠØ§Ø¡</div>

  <div class="container">
    <div class="language-switcher">
      <button class="lang-btn active" onclick="switchLanguage('ar')" id="btn-ar">Ø¹Ø±Ø¨ÙŠ ğŸ‡¸ğŸ‡¦</button>
      <button class="lang-btn" onclick="switchLanguage('en')" id="btn-en">EN ğŸ‡ºğŸ‡¸</button>
    </div>

    <h1 id="title">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h1>

    <label for="birthdate" id="label-birthdate">Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ:</label>
    <input type="date" id="birthdate" max="" />

    <label for="birthtime" id="label-birthtime">ÙˆÙ‚Øª Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
    <input type="time" id="birthtime" />

    <button class="btn" onclick="calculateAge()" id="btn-calc">Ø§Ø­Ø³Ø¨ Ø¹Ù…Ø±ÙŠ</button>

    <div class="result" id="result" style="display:none;"></div>
  </div>

<script>
  document.getElementById('birthdate').max = new Date().toISOString().split('T')[0];

  const translations = {
    ar: {
      title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©',
      birthdate: 'Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ:',
      birthtime: 'ÙˆÙ‚Øª Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):',
      calculate: 'Ø§Ø­Ø³Ø¨ Ø¹Ù…Ø±ÙŠ',
      noDate: 'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ!',
      futureDate: 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„!',
      ageResult: (y,m,d) => `Ø¹Ù…Ø±Ùƒ Ù‡Ùˆ <strong>${y}</strong> Ø³Ù†Ø© Ùˆ <strong>${m}</strong> Ø´Ù‡Ø± Ùˆ <strong>${d}</strong> ÙŠÙˆÙ….`,
      bornDayText: day => `ÙŠÙˆÙ… ÙˆÙ„Ø§Ø¯ØªÙƒ ÙƒØ§Ù† ÙŠÙˆÙ… <span class="born-day">${day}</span>.`,
    },
    en: {
      title: 'Advanced Age Calculator',
      birthdate: 'Enter Your Birth Date:',
      birthtime: 'Birth Time (Optional):',
      calculate: 'Calculate My Age',
      noDate: 'Please select your birth date!',
      futureDate: 'Birth date cannot be in the future!',
      ageResult: (y,m,d) => `Your age is <strong>${y}</strong> years, <strong>${m}</strong> months, and <strong>${d}</strong> days.`,
      bornDayText: day => `You were born on <span class="born-day">${day}</span>.`,
    }
  };

  let currentLang = 'ar';

  function switchLanguage(lang) {
    currentLang = lang;
    document.documentElement.lang = lang;
    document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØµÙˆØµ
    document.getElementById('title').textContent = translations[lang].title;
    document.getElementById('label-birthdate').textContent = translations[lang].birthdate;
    document.getElementById('label-birthtime').textContent = translations[lang].birthtime;
    document.getElementById('btn-calc').textContent = translations[lang].calculate;

    // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„ØºØ©
    document.getElementById('btn-ar').classList.toggle('active', lang === 'ar');
    document.getElementById('btn-en').classList.toggle('active', lang === 'en');

    // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©
    document.getElementById('result').style.display = 'none';
    document.getElementById('birthdate').value = '';
    document.getElementById('birthtime').value = '';
  }

  function calculateAge() {
    const birthdateInput = document.getElementById('birthdate').value;
    const birthtimeInput = document.getElementById('birthtime').value;
    if (!birthdateInput) {
      alert(translations[currentLang].noDate);
      return;
    }

    let birthDateTime = new Date(birthdateInput);
    if (birthtimeInput) {
      const [h, m] = birthtimeInput.split(':');
      birthDateTime.setHours(h);
      birthDateTime.setMinutes(m);
    }

    const now = new Date();

    if (birthDateTime > now) {
      alert(translations[currentLang].futureDate);
      return;
    }

    let years = now.getFullYear() - birthDateTime.getFullYear();
    let months = now.getMonth() - birthDateTime.getMonth();
    let days = now.getDate() - birthDateTime.getDate();

    if (days < 0) {
      months--;
      days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
    }
    if (months < 0) {
      years--;
      months += 12;
    }

    const daysOfWeekAr = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
    const daysOfWeekEn = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    const bornDay = currentLang === 'ar' ? daysOfWeekAr[birthDateTime.getDay()] : daysOfWeekEn[birthDateTime.getDay()];

    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    resultDiv.innerHTML = `
      ${translations[currentLang].ageResult(years, months, days)}<br/>
      ${translations[currentLang].bornDayText(bornDay)}
    `;
  }
</script>
</body>
</html>